<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>API Call</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script>
	  // Document Loaded
	  document.addEventListener('DOMContentLoaded',function(){

	  	// On click button 1
	    document.getElementById('getMessage1').onclick=function(){

	      // XML Http Request
	      req = new XMLHttpRequest();
	      req.open('get','https://jsonplaceholder.typicode.com/todos',true);
	      req.send();
	      req.onload = function(){
	        var data = JSON.parse(req.responseText);
	        var html = "";
        	data = data.slice(0,3);
	        data.forEach(function(val){
	        	var keys = Object.keys(val);
	        	html += "<div class = 'cat'>";
	        	keys.forEach(function(key){
	        		html += "<strong>" + key + "</strong>: " + val[key] + "<br>";
	        		console.log(key);
	        		console.log(val[key]);
	        	});
	        	html += "</div><br>";
	        });
    	  	document.getElementById('dataDislplay1').innerHTML = html;
		  }
	      //-------------------
	    };

	  	// On click button 2
	    document.getElementById('getMessage2').onclick=function(){
	      // Fetch
	      fetch('https://jsonplaceholder.typicode.com/todos/1')
	      .then(function(response){
	        return response.json();
	      })
	      .then(function(data){
	        // document.getElementsByClassName('api')[0].innerHTML = JSON.stringify(data);
	        document.getElementById('dataDislplay2').innerHTML = JSON.stringify(data);
	      });
	      //-------------------
	    };

	  });
	</script>

	<!-- Local styles -->
	<style>
		  body {
		    font-family: "Helvetica", sans-serif;
		  }

		  .main-container{
		  	min-width: 320px;
		  	max-width: 735px;
		  	margin: 0 auto;
		    display: flex;
		    flex-direction: column;
			justify-content: center;
		  }

		  header{
		  	display: flex;
		  	flex-direction: row;
			flex-grow:1;
			justify-content: center;
		  }

		  .headline {
		    font-size: 2em;
		    font-weight: bold;
		  }

		  main, .container{
			display: flex;
		  	flex-direction: column;
		  }

		  .container{
		  	align-items: center;
		  	border-radius: 5px;
		    background-color: #eee;
		    padding: 20px 5px;
		    margin-bottom: 20px;
		  }

		  .box {
			display: flex;
		  	flex-direction: row;
		  }

		  #getMessage1, #getMessage2{
		  	display: flex;
		  	flex-direction: row;
		  }

		  #dataDislplay1,#dataDislplay2{
		  	display: flex;
		  }

		  #dataDislplay2{
		  	padding-top: 20px;
		  	text-align: center;
		  }

		  .cat{
		  	padding: 20px 10px;
		  }

		  button {
		    color: white;
		    background-color: #4791d0;
		    border-radius: 5px;
		    border: 1px solid #4791d0;
		    padding: 5px 10px 8px 10px;
		  }

		  button:hover {
		    background-color: #0F5897;
		    border: 1px solid #0F5897;
		  }
	</style>
	<!-- end local styles -->
</head>
<body>
	<div class="main-container">
		<header>
			<h1 class="headline">API Call</h1>
		</header>
		<main>
			<div class="container">
				<!-- XMLHttpRequest() response -->
				<p class="message box">
				  XMLHttpRequest() - method
				</p>

			    <button id="getMessage1">
			      Get Message 1
			    </button>

				<div id="dataDislplay1"></div>
			</div>
			
			<div class="container">
				<!-- fetch() response-->
				<p class="api box">
				  fetch() - method
				</p>

				<button id="getMessage2">
				  Get Message 2
				</button>

				<div id="dataDislplay2"></div>
			</div>
		</main>
	</div>
</body>
</html>